<div class="img-drop-container">
  @if (imageRenderable() !== undefined) {
  <canvas app-image-renderer-canvas class="img-display" [data]="imageRenderable()!"
    #imgDisplay="app-image-renderer-canvas"></canvas>
  @if (recognizedGlyphs(); as recognizedGlyphs) {
  @let geometry = recognizedGlyphs[0];
  @let transform = imgDisplay.imgTransform().scale(1/3);
  @for (glyph of recognizedGlyphs[1]; track $index) {
  @let origin = transform.transformPoint(glyph.origin);
  <app-trunic-glyph [geometry]="geometry" [strokesPacked]="glyph.strokes" [renderScale]="transform.a"
    [style.top.px]="origin.y" [style.left.px]="origin.x">
  </app-trunic-glyph>
  }
  }
  } @else {
  <div class="img-drop-help">
    @if (hasInputImage()) {
    <span>Loading image...</span>
    } @else {
    <p>Drag and drop an image here</p>
    <p class="help-or">or</p>
    <p>Paste an image from the clipoard</p>
    <p class="help-or">or</p>
    <p>Browse for an image (wip)</p>
    }
  </div>
  }
  <div class="img-drop-zone" [class.img-drop-active]="dragActive()" (drop)="onImgDrop($event)"
    (dragover)="onImgOver($event)" (dragleave)="dragActive.set(false)" (dragenter)="dragActive.set(true)">
  </div>
</div>
